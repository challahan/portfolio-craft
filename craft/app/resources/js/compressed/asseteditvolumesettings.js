!function(a){var b=a(".volume-url"),c=a(".s3-key-id"),d=a(".s3-secret-key"),e=a(".s3-bucket-select > select"),f=a(".s3-refresh-buckets"),g=f.parent().next().children(),h=a(".s3-region"),i=!1;f.click(function(){if(!f.hasClass("disabled")){f.addClass("disabled"),g.removeClass("hidden");var a={params:{keyId:c.val(),secret:d.val()},volumeType:"AwsS3",dataType:"bucketList"};Craft.postActionRequest("volumes/load-volume-type-data",a,function(a,b){if(f.removeClass("disabled"),g.addClass("hidden"),"success"==b)if(a.error)alert(a.error);else if(a.length>0){var c=e.val(),d=!1;i=!0,e.prop("readonly",!1).empty();for(var h=0;h<a.length;h++)a[h].bucket==c&&(d=!0),e.append('<option value="'+a[h].bucket+'" data-url-prefix="'+a[h].urlPrefix+'" data-region="'+a[h].region+'">'+a[h].bucket+"</option>");d&&e.val(c),i=!1,d||e.trigger("change")}})}}),e.change(function(){if(!i){var a=e.children("option:selected");b.val(a.data("url-prefix")),h.val(a.data("region"))}});var j=a(".rackspace-username"),k=a(".racskspace-api-key"),l=a(".rackspace-region-select > select"),m=a(".rackspace-container-select > select"),n=a(".rackspace-refresh-containers"),o=n.parent().next().children(),p=!1;n.click(function(){if(!n.hasClass("disabled")){n.addClass("disabled"),o.removeClass("hidden");var a={params:{username:j.val(),apiKey:k.val(),region:l.val()},volumeType:"Rackspace",dataType:"containerList"};Craft.postActionRequest("volumes/load-volume-type-data",a,function(a,b){if(n.removeClass("disabled"),o.addClass("hidden"),"success"==b)if(a.error)alert(a.error);else if(a.length>0){var c=m.val(),d=!1;p=!0,m.prop("readonly",!1).empty();for(var e=0;e<a.length;e++)a[e].container==c&&(d=!0),m.append('<option value="'+a[e].container+'" data-urlprefix="'+a[e].urlPrefix+'">'+a[e].container+"</option>");d&&m.val(c),p=!1,d||m.trigger("change")}})}}),m.change(function(){if(!p){var a=m.children("option:selected");b.val(a.data("urlprefix"))}});var q=a(".google-key-id"),r=a(".google-secret-key"),s=a(".google-bucket-select > select"),t=a(".google-refresh-buckets"),u=t.parent().next().children(),v=!1;t.click(function(){if(!t.hasClass("disabled")){t.addClass("disabled"),u.removeClass("hidden");var a={params:{keyId:q.val(),secret:r.val()},volumeType:"GoogleCloud",dataType:"bucketList"};Craft.postActionRequest("volumes/load-volume-type-data",a,function(a,b){if(t.removeClass("disabled"),u.addClass("hidden"),"success"==b)if(a.error)alert(a.error);else if(a.length>0){var c=s.val(),d=!1;v=!0,s.prop("readonly",!1).empty();for(var e=0;e<a.length;e++)a[e].bucket==c&&(d=!0),s.append('<option value="'+a[e].bucket+'" data-url-prefix="'+a[e].urlPrefix+'">'+a[e].bucket+"</option>");d&&s.val(c),v=!1,d||s.trigger("change")}})}}),s.change(function(){if(!v){var a=s.children("option:selected");b.val(a.data("url-prefix"))}});var w=function(){var b=a(this).parents(".field"),c=b.find(".expires-amount").val(),d=b.find(".expires-period select").val(),e=0==parseInt(c,10)||0==d.length?"":c+" "+d;b.find("[type=hidden]").val(e)};a(".expires-amount").keyup(w).change(w),a(".expires-period select").change(w)}(jQuery);
//# sourceMappingURL=asseteditvolumesettings.js.map